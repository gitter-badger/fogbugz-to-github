<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Fogbugz-to-GitHub by sudiamanj</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/github-dark.css">
    <script src="javascripts/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>Fogbugz-to-GitHub</h1>
        <p>Migrates FogBugz cases to GitHub issues.</p>
        <p class="view"><a href="https://github.com/sudiamanj/fogbugz-to-github">View the Project on GitHub <small>sudiamanj/fogbugz-to-github</small></a></p>
        <ul>
          <li><a href="https://github.com/sudiamanj/fogbugz-to-github/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/sudiamanj/fogbugz-to-github/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/sudiamanj/fogbugz-to-github">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <h1>
<a id="fogbugz-to-github-fb2gh" class="anchor" href="#fogbugz-to-github-fb2gh" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>FogBugz to GitHub (FB2GH)</h1>

<p><img src="http://sudicode.com/images/fb2gh-logo.png" alt="Logo"><br>
<a href="https://circleci.com/gh/sudiamanj/fogbugz-to-github"><img src="https://circleci.com/gh/sudiamanj/fogbugz-to-github.svg?style=svg" alt="CircleCI"></a><br>
<strong>FB2GH</strong> is designed to help you programmatically migrate your <a href="https://www.fogcreek.com/fogbugz/">FogBugz cases</a> into <a href="https://guides.github.com/features/issues/">GitHub issues</a>.</p>

<h2>
<a id="usage" class="anchor" href="#usage" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Usage</h2>

<div class="highlight highlight-source-java"><pre><span class="pl-c">// Login to FogBugz</span>
<span class="pl-c">// How to get an API token: http://help.fogcreek.com/8447/how-to-get-a-fogbugz-xml-api-token</span>
<span class="pl-smi">FogBugz</span> fogBugz <span class="pl-k">=</span> <span class="pl-smi">FBFactory</span><span class="pl-k">.</span>newFogBugz(fogBugzURL, fogBugzAPIToken);

<span class="pl-c">// You can also get a token through FB2GH</span>
<span class="pl-smi">FogBugz</span> otherFb <span class="pl-k">=</span> <span class="pl-smi">FBFactory</span><span class="pl-k">.</span>newFogBugz(fogBugzURL, fogBugzEmail, fogBugzPassword);
<span class="pl-smi">System</span><span class="pl-k">.</span>out<span class="pl-k">.</span>println(otherFb<span class="pl-k">.</span>getAuthToken());

<span class="pl-c">// FogBugz::searchCases(String) functions exactly like the search box in FogBugz</span>
<span class="pl-k">List&lt;<span class="pl-smi">FBCase</span>&gt;</span> caseList <span class="pl-k">=</span> fogBugz<span class="pl-k">.</span>searchCases(<span class="pl-s"><span class="pl-pds">"</span>123<span class="pl-pds">"</span></span>);

<span class="pl-c">// Login to GitHub</span>
<span class="pl-smi">GitHub</span> github <span class="pl-k">=</span> <span class="pl-smi">GHFactory</span><span class="pl-k">.</span>newGitHub(githubOAuthToken); <span class="pl-c">// Using OAuth (https://github.com/settings/tokens/new)</span>
<span class="pl-smi">GitHub</span> otherGh <span class="pl-k">=</span> <span class="pl-smi">GHFactory</span><span class="pl-k">.</span>newGitHub(githubUsername, githubPassword); <span class="pl-c">// Using basic authentication</span>
<span class="pl-smi">GHRepo</span> ghRepo <span class="pl-k">=</span> github<span class="pl-k">.</span>getRepo(repoOwner, repoName); <span class="pl-c">// GitHub repository to migrate to</span>

<span class="pl-c">// Migrate caseList to ghRepo</span>
<span class="pl-smi">Migrator</span> migrator <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-smi">Migrator</span>.<span class="pl-smi">Builder</span>(fogBugz, caseList, ghRepo)<span class="pl-k">.</span>build();
migrator<span class="pl-k">.</span>migrate();</pre></div>

<h2>
<a id="dependency-information" class="anchor" href="#dependency-information" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Dependency Information</h2>

<p>Apache Maven</p>

<div class="highlight highlight-text-xml"><pre>&lt;<span class="pl-ent">repositories</span>&gt;
    &lt;<span class="pl-ent">repository</span>&gt;
        &lt;<span class="pl-ent">id</span>&gt;sudiamanj&lt;/<span class="pl-ent">id</span>&gt;
        &lt;<span class="pl-ent">name</span>&gt;maven-repo&lt;/<span class="pl-ent">name</span>&gt;
        &lt;<span class="pl-ent">url</span>&gt;https://github.com/sudiamanj/maven-repo/raw/master/&lt;/<span class="pl-ent">url</span>&gt;
    &lt;/<span class="pl-ent">repository</span>&gt;
&lt;/<span class="pl-ent">repositories</span>&gt;
&lt;<span class="pl-ent">dependencies</span>&gt;
    &lt;<span class="pl-ent">dependency</span>&gt;
        &lt;<span class="pl-ent">groupId</span>&gt;com.sudicode&lt;/<span class="pl-ent">groupId</span>&gt;
        &lt;<span class="pl-ent">artifactId</span>&gt;fb2gh&lt;/<span class="pl-ent">artifactId</span>&gt;
        &lt;<span class="pl-ent">version</span>&gt;1.0-SNAPSHOT&lt;/<span class="pl-ent">version</span>&gt;
    &lt;/<span class="pl-ent">dependency</span>&gt;
&lt;/<span class="pl-ent">dependencies</span>&gt;</pre></div>

<h2>
<a id="configuration" class="anchor" href="#configuration" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Configuration</h2>

<p>The <code>Migrator</code> class uses the <a href="https://en.wikipedia.org/wiki/Builder_pattern">builder pattern</a> which makes it flexible in terms of customization.</p>

<p>For instance, here's how to define your own labeling function:</p>

<div class="highlight highlight-source-java"><pre><span class="pl-smi">Migrator</span> migrator <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-smi">Migrator</span>.<span class="pl-smi">Builder</span>(fogBugz, caseList, ghRepo)
        .fbCaseLabeler(<span class="pl-k">new</span> <span class="pl-smi">FBCaseLabeler</span>() {
            <span class="pl-k">@Override</span>
            <span class="pl-k">public</span> <span class="pl-k">List&lt;<span class="pl-smi">GHLabel</span>&gt;</span> <span class="pl-en">getLabels</span>(<span class="pl-smi">FBCase</span> <span class="pl-v">fbCase</span>) {
                <span class="pl-k">List&lt;<span class="pl-smi">GHLabel</span>&gt;</span> list <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-k">ArrayList&lt;<span class="pl-smi">GHLabel</span>&gt;</span>();
                list<span class="pl-k">.</span>add(<span class="pl-k">new</span> <span class="pl-smi">GHLabel</span>(<span class="pl-s"><span class="pl-pds">"</span>F<span class="pl-pds">"</span></span> <span class="pl-k">+</span> fbCase<span class="pl-k">.</span>getId(), <span class="pl-s"><span class="pl-pds">"</span>92602c<span class="pl-pds">"</span></span>));
                <span class="pl-k">if</span> (fbCase<span class="pl-k">.</span>getSalesforceCaseId() <span class="pl-k">!=</span> <span class="pl-c1">0</span>) {
                    list<span class="pl-k">.</span>add(<span class="pl-k">new</span> <span class="pl-smi">GHLabel</span>(<span class="pl-s"><span class="pl-pds">"</span>S<span class="pl-pds">"</span></span> <span class="pl-k">+</span> fbCase<span class="pl-k">.</span>getSalesforceCaseId(), <span class="pl-s"><span class="pl-pds">"</span>178cda<span class="pl-pds">"</span></span>));
                }
                list<span class="pl-k">.</span>add(<span class="pl-k">new</span> <span class="pl-smi">GHLabel</span>(fbCase<span class="pl-k">.</span>getCategory()));
                list<span class="pl-k">.</span>add(<span class="pl-k">new</span> <span class="pl-smi">GHLabel</span>(fbCase<span class="pl-k">.</span>getPriority()));
                <span class="pl-k">return</span> list;
            }
        })
        .build();</pre></div>

<p>You can set as many options as you want before building, like so:</p>

<div class="highlight highlight-source-java"><pre><span class="pl-smi">Migrator</span> migrator <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-smi">Migrator</span>.<span class="pl-smi">Builder</span>(fogBugz, caseList, ghRepo)
        .closeIf(<span class="pl-k">new</span> <span class="pl-k">Predicate&lt;<span class="pl-smi">FBCase</span>&gt;</span>() {
            <span class="pl-k">@Override</span>
            <span class="pl-k">public</span> <span class="pl-k">boolean</span> <span class="pl-en">test</span>(<span class="pl-smi">FBCase</span> <span class="pl-v">fbCase</span>) {
                <span class="pl-k">return</span> <span class="pl-k">!</span>fbCase<span class="pl-k">.</span>getStatus()<span class="pl-k">.</span>equals(<span class="pl-s"><span class="pl-pds">"</span>Active<span class="pl-pds">"</span></span>);
            }
        })
        .usernameMap(<span class="pl-smi">Collections</span><span class="pl-k">.</span>singletonMap(<span class="pl-s"><span class="pl-pds">"</span>Jonathan Sudiaman<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>sudiamanj<span class="pl-pds">"</span></span>))
        .postDelay(<span class="pl-c1">500L</span>)
        .build();</pre></div>

<h2>
<a id="troubleshooting" class="anchor" href="#troubleshooting" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Troubleshooting</h2>

<h3>
<a id="why-am-i-seeing-the-following-message" class="anchor" href="#why-am-i-seeing-the-following-message" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Why am I seeing the following message?</h3>

<pre><code>SLF4J: Failed to load class "org.slf4j.impl.StaticLoggerBinder".
SLF4J: Defaulting to no-operation (NOP) logger implementation
SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.
</code></pre>

<p>This project uses <a href="http://www.slf4j.org">SLF4J</a>, which allows end users to choose a logging facility at runtime. If you don't care about logging and want to disable this message, simply add <a href="http://search.maven.org/#artifactdetails%7Corg.slf4j%7Cslf4j-nop%7C1.7.21%7Cjar">slf4j-nop</a> to your CLASSPATH. If you want to use SLF4J's logger, use <a href="http://search.maven.org/#artifactdetails%7Corg.slf4j%7Cslf4j-simple%7C1.7.21%7Cjar">slf4j-simple</a>. For more options, see <a href="http://www.slf4j.org/manual.html">SLF4J user manual</a>.</p>

<h3>
<a id="why-am-i-getting-an-assertionerror" class="anchor" href="#why-am-i-getting-an-assertionerror" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Why am I getting an AssertionError?</h3>

<p>These are usually thrown by the GitHub API, looking something like this:</p>

<pre><code>Exception in thread "main" java.lang.AssertionError: HTTP response status is not equal to 200:
404 Not Found [https://api.github.com/repos/foo/bar/labels]
Server: GitHub.com
... 
{"message":"Not Found","documentation_url":"https://developer.github.com/v3"}&gt;
    at org.hamcrest.MatcherAssert.assertThat(MatcherAssert.java:20)
    at com.jcabi.http.response.RestResponse.assertStatus(RestResponse.java:111)
    at com.jcabi.github.RtValuePagination$Items.fetch(RtValuePagination.java:193)
    at com.jcabi.github.RtValuePagination$Items.hasNext(RtValuePagination.java:179)
    at com.sudicode.fb2gh.github.GHRepo.getLabels(GHRepo.java:111)
    at CallingClass.main(CallingClass.java:30)
</code></pre>

<p>This means that you're trying to do something which wouldn't be possible on GitHub (e.g. access a nonexistent repo, add duplicate labels, etc). Read through your error message to figure out exactly what's going on. If the error persists, please <a href="https://github.com/sudiamanj/fogbugz-to-github/issues">raise an issue</a>.</p>
      </section>
    </div>
    <footer>
      <p>Project maintained by <a href="https://github.com/sudiamanj">sudiamanj</a></p>
      <p>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></p>
    </footer>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
    
  </body>
</html>
